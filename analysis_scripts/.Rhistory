for (r in r_num) {
### Here we select a random number of habitats, and subsample every dataset by their indices
smpl_idx <- sample(nrow(npop[npop$repl == r,]))[1:h]
npopr <- npop[npop$repl == r,]
npopd <- as.data.frame(rbind(npopd, npopr[smpl_idx,]))
kabsr <- kabs[kabs$repl == r,]
kabsd <- as.data.frame(rbind(kabsd, kabsr[smpl_idx,]))
nxyzr <- nxyz[nxyz$repl == r,]
nxyzd <- as.data.frame(rbind(nxyzd, nxyzr[smpl_idx,]))
}
