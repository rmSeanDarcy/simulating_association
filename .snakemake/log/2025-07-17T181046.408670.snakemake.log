Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 6
Rules claiming more threads will be scaled down.
Job stats:
job         count
--------  -------
all             1
clone           4
simulate        6
total          11

Select jobs to execute...

[Thu Jul 17 18:10:47 2025]
rule simulate:
    output: simulation_data/xfig5/nw_c1/nw_c1/n_pop_log_log.csv
    jobid: 5
    reason: Missing output files: simulation_data/xfig5/nw_c1/nw_c1/n_pop_log_log.csv; Code has changed since last execution; Params have changed since last execution
    wildcards: exp=xfig5, tr=nw_c1, sim=nw_c1
    resources: tmpdir=/tmp

RuleException in rule simulate in file /mnt/share/PROJECTS/SomSOM/Step_III/SAMSARA/Snakefile.smk, line 43:
NameError: The name 'cmd' is unknown in this context. Please make sure that you defined that variable. Also note that braces not used for variable access have to be escaped by repeating them, i.e. {{print $1}}, when formatting the following:

        mkdir -p simulation_data/{wildcards.exp}/{wildcards.tr}/{wildcards.sim}

        # Build a Bash array so that each flag becomes its own argument
        sim_args=( {params.args} )
        
        # Build the full command
        cmd=( python "{params.script}"
              "{wildcards.exp}" "{wildcards.tr}" "{wildcards.sim}"
              "${{sim_args[@]}}"
              --outdir "simulation_data/{wildcards.exp}/{wildcards.tr}/{wildcards.sim}"
        )

        # Execute it
        echo "[simulate] running: ${{cmd[*]}}"
        "${cmd[@]}"
        
